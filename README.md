# HH parser with uploadindg to SQL DB
# Курсовая работа №5


**В рамках проекта вам необходимо получить данные о компаниях и вакансиях с сайта hh.ru, спроектировать таблицы в БД PostgreSQL и загрузить полученные данные в созданные таблицы.**

## Для работы с БД вам нужен файл database.ini.

Нужно запустить файл **main.py** где будут предложена фильтрация на выбор.
Остановить программу вводом: stop/стоп

# **hh_ru.py**

- Парсим сайт. id компаний,params задаем сразу в init
- Получаем список вакансий через get_vacancies
- В get_employers_data формируем словарь с id , названием и ссылкой работодателя.

# utils.py
- create_database создает базу данных с двумя таблицами companies и vacancies
- save_to_database_vacancies сохраняет вакансии в таблицу vacancies с параметрами (id, name, company_id, salary_min, salary_max, url) 
- save_to_database_companies сохраняет данные о работодателе (company_id, name, url)

# Класс DBManager
#### Класс DBManager должен использовать библиотеку psycopg2 для работы с БД
- get_companies_and_vacancies_count(): получает список всех компаний и количество вакансий у каждой компании.
- get_all_vacancies(): получает список всех вакансий с указанием названия компании, названия вакансии и зарплаты и ссылки на вакансию.
- get_avg_salary(): получает среднюю зарплату по вакансиям.
- get_vacancies_with_higher_salary(): получает список всех вакансий, у которых зарплата выше средней по всем вакансиям.
- get_vacancies_with_keyword(): получает список всех вакансий, в названии которых содержатся переданные в метод слова, например “python”.
